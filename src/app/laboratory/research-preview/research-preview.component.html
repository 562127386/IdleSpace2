<!-- <nz-card style="width: 300px;" nzSize="small"> -->
<nz-card-meta
  [nzTitle]="research.name"
  [nzDescription]="research.description"
  [nzAvatar]="avatarTemplate"
></nz-card-meta>

<ul class="list-unstyled">
  <li *ngFor="let unit of research.unitsToUnlock; trackBy: getId">
    <span class="text-secondary">Unlock unit:</span> {{ unit.name }}
  </li>
  <li *ngFor="let res of research.researchToUnlock; trackBy: getId">
    <span class="text-secondary">Unlock research:</span> {{ res.name }}
  </li>
  <li *ngFor="let tech of research.technologiesToUnlock; trackBy: getId">
    <span class="text-secondary">Unlock technology:</span>{{ tech.name }}
  </li>
  <li *ngFor="let mod of research.modulesToUnlock; trackBy: getId">
    <span class="text-secondary">Unlock ship module:</span> {{ mod.name }}
  </li>
  <li *ngFor="let effMulti of research.effMulti; trackBy: getId">
    {{ effMulti.unit.name }}
    <span class="text-secondary">
      yields
    </span>
    <span class="monospace">{{ effMulti.multi | percent }}</span>
    <span class="text-secondary">
      more
    </span>
  </li>
  <li *ngFor="let prodMulti of research.prodMulti; trackBy: getId">
    {{ prodMulti.unit.name }}
    <span class="text-secondary">
      yields and consume
    </span>
    <span class="monospace">{{ prodMulti.multi | percent }}</span>
    <span class="text-secondary">
      more
    </span>
  </li>
  <li *ngFor="let hsbBonus of research.spaceStationsToUp">
    <span class="text-secondary">{{ hsbBonus.spaceStation.name }}</span> +
    {{ hsbBonus.multi | percent }} habitable space
  </li>
  <li *ngFor="let battleMulti of research.battleMulti">
    +{{ battleMulti.multi | percent }}
    {{ battleMulti.material.name }}
    <span class="text-secondary">from battles</span>
  </li>
  <li *ngIf="research.navalCapacity > 0">
    + {{ research.navalCapacity | format: true }} naval capacity
  </li>
  <li *ngFor="let lim of research.limitMulti">
    +{{ lim.multi | percent }} {{ lim.unit.name }}
    <span class="text-secondary">storage</span>
  </li>
  <li *ngIf="research.recycling > 0">
    + {{ research.recycling | format }} recycling
  </li>
</ul>

<span
  *ngIf="!noProgress"
  class="monospace"
  fxLayout="row"
  fxLayout.xs="column"
  fxLayoutAlign="space-between"
>
  <span>
    <i nz-icon nzType="clock-circle" nzTheme="outline" class="space"></i>
    <span> {{ research.timeToEnd | time }}</span>
  </span>
  <span class="text-secondary">
    {{ research.progress | format }}/{{ research.total | format }}
    {{ research.progressPercent }}%</span
  >
</span>
<app-progress
  *ngIf="!noProgress"
  [progress]="research.progressPercent"
></app-progress>
<!-- </nz-card> -->

<ng-template #avatarTemplate>
  <i
    nz-icon
    [nzType]="research.type.icon"
    [style.color]="research.type.color"
  ></i>
</ng-template>
