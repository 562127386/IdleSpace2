<div class="matContainer">
  <div
    *ngFor="
      let item of ms.game.resourceManager.unlockedMaterials;
      trackBy: getId
    "
    @fadeIn
    class="mainContainer"
    [class.alt]="os.darkHeader"
  >
    <i nz-icon [nzType]="item.icon" [ngClass]="item.colorClass"></i>
    <div
      class="container"
      nz-popover
      [nzPopoverTitle]="titleTemplate"
      [nzPopoverContent]="contentTemplate"
      [nzPopoverTrigger]="popoverTrigger"
      [ngClass]="item.colorClass"
      [nzPopoverPlacement]="item.id === 'M' ? 'bottomLeft' : 'bottom'"
    >
      <!-- (click)="createModal(item.name, contentTemplate, tplFooter)" -->
      <!-- nzPopoverPlacement="bottom" -->
      <span class="monospace">
        <span class="min-width" *ngIf="item.quantity.gt(0)">{{
          item.quantity | format
        }}</span>
        <span class="min-width" *ngIf="item.showUiLimit"
          >/{{ item.uiLimit | format }}</span
        >
      </span>
      <span class="monospace">
        <span
          class="min-width"
          [class]="item.perSec.gte(0) ? '' : 'text-danger'"
          >{{ item.perSec | format }}/s</span
        >
      </span>
    </div>

    <ng-template #titleTemplate>
      <span [ngClass]="item.colorClass">
        <i nz-icon [nzType]="item.icon"></i> {{ item.name }}</span
      >
    </ng-template>
    <ng-template #contentTemplate>
      <app-prod-info [unit]="item"></app-prod-info>
    </ng-template>
  </div>

  <!-- Naval Capacity -->
  <div @fadeIn class="mainContainer">
    <i nz-icon nzType="my:strafe"></i>
    <div class="container">
      <span class="monospace">{{ ms.game.navalCapacity | format: true }}</span>
    </div>
  </div>

  <!-- Districts -->
  <div @fadeIn class="mainContainer">
    <i nz-icon nzType="fa-s:globe"></i>
    <div class="container">
      <span class="monospace">
        {{ ms.game.resourceManager.habitableSpace.quantity | format: true }}
        {{ ms.game.resourceManager.miningDistrict.quantity | format: true }}
        {{ ms.game.resourceManager.energyDistrict.quantity | format: true }}
      </span>
    </div>
  </div>
</div>

<ng-template #tplFooter>
  <button nz-button nzType="primary" (click)="destroyTplModal()">
    Ok
  </button>
</ng-template>
